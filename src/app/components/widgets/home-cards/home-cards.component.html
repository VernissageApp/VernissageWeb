@if (homeCards(); as homeCardsArray) {

    <small class="text-muted small">
        For optimization purposes, home cards are cached on the client side. After home cards are updated,
        it may take up to approximately one hour for the changes to be refreshed and become visible.
    </small>

    <table mat-table [dataSource]="homeCardsArray.data">

        <!-- License Code Column -->
        <ng-container matColumnDef="order">
            <th mat-header-cell *matHeaderCellDef> Order </th>
            <td mat-cell *matCellDef="let element" class="order">
                {{ element.order }}
            </td>
        </ng-container>

        <!-- License Name Column -->
        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Title </th>
            <td mat-cell *matCellDef="let element" class="title">
                {{ element.title }}
            </td>
        </ng-container>
        
        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element" class="text-right actions">
                @if (!isHandsetPortrait()) {
                    <button matIconButton class="margin-right-10" (click)="openHomeCardDialog(element)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button matIconButton (click)="onDelete(element)">
                        <mat-icon>delete</mat-icon>
                    </button>
                } @else {
                    <button class="more-button" matButton="outlined" [matMenuTriggerFor]="dropdownMenuAction" aria-label="More options">
                        <span class="material-symbols-outlined">more_vert</span>
                    </button>
                    <mat-menu #dropdownMenuAction="matMenu" xPosition="before">
                        <button mat-menu-item (click)="openHomeCardDialog(element)">Update</button>
                        <button mat-menu-item (click)="onDelete(element)">Delete</button>
                    </mat-menu>
                }
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns();"></tr>
    </table>
    <mat-paginator
        (page)="handlePageEvent($event)"
        [length]="homeCardsArray.total"
        [pageIndex]="pageIndex"
        [pageSize]="10"
        [pageSizeOptions]="[10, 25, 100]"
        aria-label="Select page">
    </mat-paginator>

    <button matButton="filled" (click)="openHomeCardDialog(undefined)">New home card</button>
}